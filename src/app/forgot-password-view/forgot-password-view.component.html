<div class="main-content"
     fxLayout="row"
     fxLayoutAlign="center center">

    <img alt="Logo"
         class="picture-style"
         src="assets/img/squash_logo.svg">

    <mat-card *ngIf="isLoading === false; else loading"
              class="example-card mat-elevation-z3">
        <mat-card-content>

            <div class="regular-font">
                {{'forgotPassword.enterEmail' | translate}}
            </div>
            <div class="regular-font">
                {{'forgotPassword.sendLink' | translate}}
            </div>

            <div class="centered-zero-margin zero-padding-bottom">
                <mat-form-field appearance="standard"
                                class="example-full-width">
                    <mat-label>
                        Email
                    </mat-label>
                    <input [formControl]="emailField"
                           autocapitalize="off"
                           autocomplete="off"
                           autocorrect="off"
                           matInput
                           name="email"
                           spellcheck="false">

                    <mat-error *ngIf="emailField.hasError('required')">
                        {{'forgotPassword.emailError.empty' | translate}}
                    </mat-error>

                    <mat-error *ngIf="emailField.hasError('email')">
                        {{'forgotPassword.emailError.invalid' | translate}}
                    </mat-error>

                    <button disabled
                            mat-icon-button
                            matSuffix>
                        <mat-icon class="black-color">email</mat-icon>
                    </button>
                </mat-form-field>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <div class="centered-top-margin">
                <button (click)="resetPassword()"
                        (keyup.enter)="resetPassword()"
                        [disabled]="emailField.invalid"
                        class="full-width"
                        color="primary"
                        mat-raised-button>
                    {{'forgotPassword.sendPasswordResetEmail' | translate}}
                </button>
            </div>
        </mat-card-actions>
    </mat-card>

    <div *ngIf="isLoading === false"
         class="centered-both-margin">
        {{'forgotPassword.remember' | translate}}
        <a [routerLink]="['/login']"
           class="right-aligned">
            {{'login.title' | translate}}
        </a>
    </div>

    <div *ngIf="isLoading === false"
         class="centered-no-margin">
        {{'login.dontHaveAccount' | translate}}
        <a [routerLink]="['/register']"
           class="right-aligned">
            {{'signUp.title' | translate}}
        </a>
    </div>

</div>

<ng-template #loading>
    <app-bouncing-balls-loader-sync message="{{'processing' | translate}}">
    </app-bouncing-balls-loader-sync>
</ng-template>
