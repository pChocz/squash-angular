<div class="main-content">

    <!-- <h1>Season ID: {{this.uid}}</h1> -->
    <h1>
        Season Scoreboard

        <button mat-icon-button color="primary" class="nofocus align-center margin-left"
            [disabled]="this.seasonScoreboard?.previousSeasonUuid === null"
            [routerLink]="['/season', this.seasonScoreboard?.previousSeasonUuid]">
            <mat-icon>keyboard_arrow_left</mat-icon>
        </button>

        <button mat-icon-button color="primary" class="nofocus align-center margin-left"
            [disabled]="this.seasonScoreboard?.nextSeasonUuid === null"
            [routerLink]="['/season', this.seasonScoreboard?.nextSeasonUuid]">
            <mat-icon>keyboard_arrow_right</mat-icon>
        </button>

    </h1>

    <span class="non-break-large">
        Season: <b>{{seasonScoreboard?.season.seasonNumber}}</b> <span class="separator">|</span>
    </span>
    <span class="non-break-large">
        Start date: <b>{{dateFormatted(seasonScoreboard?.season.seasonStartDate)}}</b> <span class="separator">|</span>
    </span>
    <span class="non-break-large">
        League: <b>{{seasonScoreboard?.season.leagueName}}</b> <span class="separator">|</span>
    </span>
    <span class="non-break-large">
        Counted rounds: <b>{{seasonScoreboard?.countedRounds}}/{{seasonScoreboard?.finishedRounds}}</b>
    </span>

    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" class="button-toggle-full">

        <mat-button-toggle value="season" class="custom-button mat-elevation-z3">
            <b>Season</b>
        </mat-button-toggle>

        <mat-button-toggle value="r1" style="width:100%" *ngFor="let round of seasonScoreboard?.rounds"
            routerLink="/round/{{round.roundUuid}}">
            R{{round.roundNumber}}
        </mat-button-toggle>

        <!-- <mat-button-toggle value="r1" class="custom-button" *ngIf="seasonScoreboard?.rounds.length < 10"
            routerLink="/new-round/{{seasonScoreboard?.season.seasonUuid}}/{{seasonScoreboard?.rounds.length + 1}}">
            + Round
        </mat-button-toggle> -->

    </mat-button-toggle-group>



</div>

<div class="main-content">

    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z3" matSortStart="desc">

        <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef class="even-distributed left-aligned"> P </th>
            <td mat-cell *matCellDef="let row; index as i" class="even-distributed left-aligned"> {{i+1}} </td>
        </ng-container>

        <ng-container matColumnDef="player">
            <th mat-header-cell *matHeaderCellDef> Player </th>
            <td mat-cell *matCellDef="let row"> {{row.player.username}} </td>
        </ng-container>

        <ng-container matColumnDef="r1">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R1 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[1]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r2">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R2 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[2]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r3">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R3 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[3]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r4">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R4 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[4]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r5">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R5 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[5]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r6">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R6 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[6]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r7">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R7 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[7]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r8">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R8 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[8]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r9">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R9 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[9]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="r10">
            <th mat-header-cell *matHeaderCellDef class="even-distributed right-aligned"> R10 </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.roundNumberToXpMapAll[10]}}
            </td>
        </ng-container>

        <ng-container matColumnDef="totalPoints">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>TOT</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> <b>{{row.totalPoints}}</b> </td>
        </ng-container>

        <ng-container matColumnDef="countedPoints">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>CNT</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> <b>{{row.countedPoints}}</b>
            </td>
        </ng-container>

        <ng-container matColumnDef="attendices">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>ATT</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.attendices}} </td>
        </ng-container>

        <ng-container matColumnDef="average">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>AVG</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.average}} </td>
        </ng-container>

        <ng-container matColumnDef="bonusPoints">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>BON</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.bonusPoints}} </td>
        </ng-container>

        <ng-container matColumnDef="countedPointsPretenders">
            <th mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition='before'
                class="even-distributed right-aligned"> <b>PRT</b> </th>
            <td mat-cell *matCellDef="let row" class="even-distributed right-aligned"> {{row.countedPointsPretenders}}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

</div>

<mat-divider class="divider-margin"></mat-divider>

<div class="main-content">

    <span class="non-break-small">
        <b>TOT</b> - Total Points <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>CNT</b> - Counted Points <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>ATT</b> - Attendices <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>AVG</b> - Average <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>BON</b> - Bonus Points <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>PRT</b> - Pretenders Points
    </span>

</div>