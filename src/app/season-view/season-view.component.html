<div *ngIf="seasonScoreboard; else loading" class="main-content">
    <!-- <h1>Season ID: {{this.uid}}</h1> -->
    <h1>
        Season {{ seasonScoreboard.season.seasonNumberRoman }}

        <button
                [disabled]="seasonScoreboard.previousSeasonUuid === null"
                [routerLink]="['/season', seasonScoreboard.previousSeasonUuid]"
                class="align-center margin-left"
                color="primary"
                mat-icon-button
        >
            <mat-icon>keyboard_arrow_left</mat-icon>
        </button>

        <button
                [queryParams]="{ expand: seasonScoreboard.season.leagueUuid }"
                [routerLink]="['/leagues']"
                class="align-center margin-left"
                color="primary"
                mat-stroked-button
        >
            League
        </button>

        <button
                [disabled]="seasonScoreboard.nextSeasonUuid === null"
                [routerLink]="['/season', seasonScoreboard.nextSeasonUuid]"
                class="align-center margin-left"
                color="primary"
                mat-icon-button
        >
            <mat-icon>keyboard_arrow_right</mat-icon>
        </button>

        <mat-slide-toggle
                [(ngModel)]="showScoreboard"
                class="align-center margin-left"
                color="primary"
        >
        </mat-slide-toggle>
    </h1>

    <span class="non-break-large">
        {{ dateFormatted(seasonScoreboard.season.seasonStartDate) }}
        <mat-icon class="align-center">keyboard_arrow_right</mat-icon>
        {{ seasonScoreboard.season.leagueName }}
    </span>
</div>

<div *ngIf="seasonScoreboard" class="table-content-standalone mat-elevation-z3">
    <mat-button-toggle-group
            aria-label="Font Style"
            class="button-toggle-full"
            name="fontStyle"
    >
        <mat-button-toggle
                *ngFor="let round of seasonScoreboard.rounds"
                class="full-width"
                routerLink="/round/{{ round.roundUuid }}"
        >
            R{{ round.roundNumber }}
        </mat-button-toggle>

        <mat-button-toggle
                *ngIf="seasonScoreboard.rounds.length < 10"
                [queryParams]="{
                seasonUuid: seasonScoreboard.season.seasonUuid,
                roundNumber: seasonScoreboard.rounds.length + 1
            }"
                [routerLink]="['/new-round']"
                class="custom-button"
        >
            + Round
        </mat-button-toggle>

        <mat-button-toggle
                *ngIf="seasonScoreboard.rounds.length < 10"
                [queryParams]="{ seasonUuid: seasonScoreboard.season.seasonUuid }"
                [routerLink]="['/add-bonus-points']"
                class="custom-button"
        >
            + BP
        </mat-button-toggle>
    </mat-button-toggle-group>
</div>

<div *ngIf="seasonScoreboard" class="table-content-standalone mat-elevation-z3">
    <app-season-scoreboard-table
            *ngIf="showScoreboard === true"
            [seasonScoreboard]="seasonScoreboard"
    >
    </app-season-scoreboard-table>

    <app-season-balances-table
            *ngIf="showScoreboard === false"
            [seasonScoreboard]="seasonScoreboard"
    >
    </app-season-balances-table>
</div>

<!-- <mat-divider class="divider-margin" *ngIf="seasonScoreboard"></mat-divider> -->

<div *ngIf="seasonScoreboard" class="main-content">
    <span class="non-break-small">
        <b>TOT</b> - Total Points <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>ATT</b> - Attendices <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>AVG</b> - Average <span class="separator">|</span>
    </span>

    <span class="non-break-small">
        <b>BON</b> - Bonus Points <span class="separator">|</span>
    </span>

    <span class="non-break-small"> <b>PRT</b> - Pretenders Points </span>
</div>

<ng-template #loading>
    <app-bouncing-balls-loader-sync></app-bouncing-balls-loader-sync>
</ng-template>
