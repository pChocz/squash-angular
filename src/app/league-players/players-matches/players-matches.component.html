<div class="mat-elevation-z4 main-content">

    <table mat-table [dataSource]="dataSource" matSort>

        <!-- Date -->
        <ng-container matColumnDef="date-column">
            <!-- <th mat-header-cell *matHeaderCellDef class="right-aligned"> Date </th> -->
            <td mat-cell *matCellDef="let match" class="date-column"> {{match.roundDate}} </td>
        </ng-container>

        <!-- Players -->
        <ng-container matColumnDef="first-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="right-aligned"> Player 1 </th> -->
            <td mat-cell *matCellDef="let match" class="right-aligned player-width left-border" [class.match-winner]="match.firstPlayerWins()"> {{match.firstPlayer.username}} </td>
        </ng-container>

        <ng-container matColumnDef="second-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="left-aligned"> Player 2 </th> -->
            <td mat-cell *matCellDef="let match" class="left-aligned player-width left-border" [class.match-winner]="match.secondPlayerWins()"> {{match.secondPlayer.username}} </td>
        </ng-container>

        <!-- 1st Set -->
        <ng-container matColumnDef="first-set-first-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="right-aligned"> 1st set </th> -->
            <td mat-cell *matCellDef="let match" class="right-aligned left-border even-distributed" [class.score-winning]="match.sets[0].firstPlayerScore > match.sets[0].secondPlayerScore"> {{match.sets[0].firstPlayerScore}} </td>
        </ng-container>

        <ng-container matColumnDef="first-set-second-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="left-aligned"> 1st set </th> -->
            <td mat-cell *matCellDef="let match" class="left-aligned even-distributed" [class.score-winning]="match.sets[0].firstPlayerScore < match.sets[0].secondPlayerScore"> {{match.sets[0].secondPlayerScore}} </td>
        </ng-container>

        <!-- 2nd Set -->
        <ng-container matColumnDef="second-set-first-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="right-aligned"> 2nd set </th> -->
            <td mat-cell *matCellDef="let match" class="right-aligned left-border even-distributed" [class.score-winning]="match.sets[1].firstPlayerScore > match.sets[1].secondPlayerScore"> {{match.sets[1].firstPlayerScore}} </td>
        </ng-container>

        <ng-container matColumnDef="second-set-second-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="left-aligned"> 2nd set </th> -->
            <td mat-cell *matCellDef="let match" class="left-aligned even-distributed" [class.score-winning]="match.sets[1].firstPlayerScore < match.sets[1].secondPlayerScore"> {{match.sets[1].secondPlayerScore}} </td>
        </ng-container>

        <!-- 3rd Set -->
        <ng-container matColumnDef="third-set-first-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="right-aligned"> 3rd set </th> -->
            <td mat-cell *matCellDef="let match" class="right-aligned left-border even-distributed" [class.score-winning]="match.sets[2].firstPlayerScore > match.sets[2].secondPlayerScore">
                <div *ngIf="match.sets[2].firstPlayerScore > 0 && match.sets[2].secondPlayerScore > 0">
                    {{match.sets[2].firstPlayerScore}}
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="third-set-second-player">
            <!-- <th mat-header-cell *matHeaderCellDef class="left-aligned"> 3rd set </th> -->
            <td mat-cell *matCellDef="let match" class="left-aligned even-distributed" [class.score-winning]="match.sets[2].firstPlayerScore < match.sets[2].secondPlayerScore">
                <div *ngIf="match.sets[2].firstPlayerScore > 0 && match.sets[2].secondPlayerScore > 0">
                    {{match.sets[2].secondPlayerScore}}
                </div>
            </td>
        </ng-container>


        <!-- Header row first group -->
        <ng-container matColumnDef="header-row-date">
            <th mat-header-cell *matHeaderCellDef class="date-column bottom-border" [attr.colspan]="1">
                Date
            </th>
        </ng-container>

        <ng-container matColumnDef="header-row-players">
            <th mat-header-cell *matHeaderCellDef class="center-aligned left-border bottom-border" [attr.colspan]="2">
                Players
            </th>
        </ng-container>

        <ng-container matColumnDef="header-row-first-set">
            <th mat-header-cell *matHeaderCellDef class="center-aligned left-border bottom-border" [attr.colspan]="2">
                1st set
            </th>
        </ng-container>

        <ng-container matColumnDef="header-row-second-set">
            <th mat-header-cell *matHeaderCellDef class="center-aligned left-border bottom-border" [attr.colspan]="2">
                2nd set
            </th>
        </ng-container>

        <ng-container matColumnDef="header-row-third-set">
            <th mat-header-cell *matHeaderCellDef class="center-aligned left-border bottom-border" [attr.colspan]="2">
                3rd set
            </th>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="['header-row-date', 'header-row-players', 'header-row-first-set', 'header-row-second-set', 'header-row-third-set']"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[100]" showFirstLastButtons></mat-paginator>

</div>