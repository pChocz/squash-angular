<div class="main-content" fxLayout="row" fxLayoutAlign="center center">
    <img alt="Logo" class="picture-style" src="assets/img/squash_logo.svg"/>

    <mat-card *ngIf="isLoading === false; else loading"
              class="example-card mat-elevation-z3">
        <mat-card-header>
            <mat-card-title class="large-font">
                {{'login.title' | translate}}
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="example-form">
                <div class="centered-margin-top">
                    <mat-form-field appearance="standard"
                                    class="example-full-width">
                        <mat-label>
                            {{'login.usernameOrEmail' | translate}}
                        </mat-label>
                        <input [(ngModel)]="username"
                               autocapitalize="off"
                               autocorrect="off"
                               matInput
                               name="username"
                               spellcheck="false"/>
                        <button disabled mat-icon-button matSuffix>
                            <mat-icon color="primary">
                                person
                            </mat-icon>
                        </button>
                    </mat-form-field>
                </div>
                <div class="centered-zero-margin zero-padding-bottom">
                    <mat-form-field appearance="standard"
                                    class="example-full-width">
                        <mat-label>
                            {{'login.password' | translate}}
                        </mat-label>
                        <input [(ngModel)]="password"
                               [type]="hide ? 'password' : 'text'"
                               autocapitalize="off"
                               autocorrect="off"
                               matInput
                               name="password"
                               spellcheck="false"/>
                        <button (click)="hide = !hide"
                                [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hide"
                                mat-icon-button
                                matSuffix>
                            <mat-icon color="primary">
                                {{hide ? 'visibility_off' : 'visibility'}}
                            </mat-icon>
                        </button>
                    </mat-form-field>
                </div>
                <div class="right-aligned">
                    <a [routerLink]="['/forgot-password']"
                       class="right-aligned">
                        {{'login.forgotPassword' | translate}}
                    </a>
                </div>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <div class="centered">
                <button (click)="login()"
                        [disabled]="isEmptyInput()"
                        class="full-width"
                        color="primary"
                        mat-raised-button>
                    {{'login.title' | translate}}
                </button>
            </div>
        </mat-card-actions>
    </mat-card>

    <div *ngIf="isLoading === false" class="centered">
        {{'login.dontHaveAccount' | translate}}
        <a [routerLink]="['/register']" class="right-aligned">
            {{'signUp.title' | translate}}
        </a>
    </div>

<!--    <div class="text-center mt-4">-->
<!--        <a [routerLink]="['/buy-coffee']">-->
<!--            <img src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer&emoji=🍺&slug=pChocz&button_colour=5F7FFF&font_colour=ffffff&font_family=Lato&outline_colour=000000&coffee_colour=FFDD00">-->
<!--        </a>-->
<!--    </div>-->

</div>

<ng-template #loading>
    <app-bouncing-balls-loader-sync message="{{'login.signingIn' | translate}}">
    </app-bouncing-balls-loader-sync>
</ng-template>
